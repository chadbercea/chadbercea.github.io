<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="404 - Page not found">
  <meta name="author" content="Chad Bercea">
  <title>404 — chadbercea</title>
  
  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="48x48" href="/images/favicon/favicon-48x48.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/images/favicon/favicon-192x192.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/favicon-180x180.png">
  
  <!-- Theme -->
  <meta name="theme-color" content="#050505">
  
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/main.css">
  
  <style>
    .error-page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: var(--space-xl);
      position: relative;
      overflow: hidden;
    }
    
    /* Glitch effect on 404 */
    .error-page__code {
      font-family: var(--font-mono);
      font-size: clamp(6rem, 20vw, 12rem);
      font-weight: 700;
      color: var(--accent);
      line-height: 1;
      margin-bottom: var(--space-md);
      text-shadow: 0 0 60px rgba(0, 255, 65, 0.3);
      position: relative;
      cursor: default;
      transition: text-shadow var(--transition-fast);
    }
    
    .error-page__code:hover,
    .error-page__code.glitching {
      text-shadow: 
        0 0 80px rgba(0, 255, 65, 0.5),
        -2px 0 #ff6b6b,
        2px 0 #00d4ff;
      animation: glitch 0.3s ease infinite;
    }
    
    @keyframes glitch {
      0%, 100% { transform: translate(0); }
      20% { transform: translate(-2px, 1px); }
      40% { transform: translate(2px, -1px); }
      60% { transform: translate(-1px, -1px); }
      80% { transform: translate(1px, 1px); }
    }
    
    .error-page__terminal {
      margin-bottom: var(--space-xl);
      max-width: 500px;
      width: 100%;
      text-align: left;
      background: var(--black-light);
      border: 1px solid var(--black-border);
      border-radius: 8px;
      overflow: hidden;
      transform-style: preserve-3d;
      transition: transform 0.1s ease-out, box-shadow 0.3s ease;
      cursor: default;
    }
    
    .error-page__terminal:hover {
      box-shadow: 0 8px 32px rgba(0, 255, 65, 0.15);
    }
    
    .error-page__terminal-chrome {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 16px;
      background: var(--black);
      border-bottom: 1px solid var(--black-border);
    }
    
    .error-page__terminal-dots {
      display: flex;
      gap: 6px;
    }
    
    .error-page__terminal-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }
    
    .error-page__terminal-dot--red { background: #ff5f57; }
    .error-page__terminal-dot--yellow { background: #ffbd2e; }
    .error-page__terminal-dot--green { background: #28ca42; }
    
    .error-page__terminal-title {
      flex: 1;
      text-align: center;
      font-family: var(--font-mono);
      font-size: 0.75rem;
      color: var(--white-dimmer);
      margin-right: 48px; /* Balance the dots */
    }
    
    .error-page__terminal-body {
      font-family: var(--font-mono);
      font-size: 0.875rem;
      color: var(--white-dim);
      padding: var(--space-md);
      transform-style: preserve-3d;
    }
    
    .error-page__terminal-line {
      margin-bottom: var(--space-xs);
      opacity: 0;
      transform: translateY(10px);
      animation: terminalFadeIn 0.4s ease forwards;
    }
    
    .error-page__terminal-line:nth-child(1) { animation-delay: 0.2s; }
    .error-page__terminal-line:nth-child(2) { animation-delay: 0.5s; }
    .error-page__terminal-line:nth-child(3) { animation-delay: 0.9s; }
    .error-page__terminal-line:nth-child(4) { animation-delay: 1.2s; }
    .error-page__terminal-line:nth-child(5) { animation-delay: 1.5s; }
    
    @keyframes terminalFadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .error-page__terminal-line .prompt {
      color: var(--accent);
    }
    
    .error-page__terminal-line .error {
      color: #ff6b6b;
    }
    
    .error-page__terminal-line .path {
      color: var(--white-dimmer);
    }
    
    .error-page__terminal-line .cmd {
      color: var(--white);
    }
    
    .error-page__message {
      font-family: var(--font-editorial);
      font-size: clamp(1.5rem, 4vw, 2.5rem);
      color: var(--white);
      margin-bottom: var(--space-md);
      font-style: italic;
      opacity: 0;
      animation: fadeUp 0.6s ease 1.8s forwards;
    }
    
    .error-page__desc {
      font-family: var(--font-body);
      color: var(--white-dim);
      margin-bottom: var(--space-xl);
      max-width: 400px;
      line-height: 1.6;
      opacity: 0;
      animation: fadeUp 0.6s ease 2s forwards;
    }
    
    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .error-page__link {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--accent);
      text-decoration: none;
      padding: var(--space-sm) var(--space-lg);
      border: 1px solid var(--accent);
      transition: all var(--transition-fast);
      opacity: 0;
      animation: fadeUp 0.6s ease 2.2s forwards;
      position: relative;
      overflow: hidden;
    }
    
    .error-page__link::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: var(--accent);
      transition: left var(--transition-fast);
      z-index: -1;
    }
    
    .error-page__link:hover {
      color: var(--black);
    }
    
    .error-page__link:hover::before {
      left: 0;
    }
    
    .error-page__ascii {
      font-family: var(--font-mono);
      font-size: 0.625rem;
      color: var(--black-border);
      margin-top: var(--space-2xl);
      white-space: pre;
      line-height: 1.3;
      opacity: 0;
      animation: fadeUp 0.6s ease 2.5s forwards;
      transition: color var(--transition-fast);
    }
    
    .error-page__ascii:hover {
      color: var(--white-dimmer);
    }
    
    /* Nav home button glow */
    .error-page__home {
      color: var(--white-dimmer);
      transition: all var(--transition-fast);
      display: flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
    }
    
    .error-page__home:hover {
      color: var(--accent);
      filter: drop-shadow(0 0 8px rgba(0, 255, 65, 0.5));
    }
    
    .error-page__home svg {
      width: 20px;
      height: 20px;
    }
    
    /* Background noise texture */
    .error-page::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
      opacity: 0.02;
      pointer-events: none;
      z-index: 0;
    }
    
    .error-page > * {
      position: relative;
      z-index: 1;
    }
  </style>
</head>
<body>
  <nav class="site-nav">
    <div class="site-nav__left">
      <span class="site-nav__status" style="color: #ff6b6b;">●</span>
      <span class="site-nav__label">ERROR</span>
      <span class="site-nav__separator">•</span>
      <span id="nav-timestamp">loading...</span>
    </div>
    <a href="/" class="error-page__home" aria-label="Back to home">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
        <polyline points="9 22 9 12 15 12 15 22"></polyline>
      </svg>
    </a>
  </nav>

  <main class="error-page">
    <div class="error-page__code" id="error-code">404</div>
    
    <div class="error-page__terminal" id="terminal-window">
      <div class="error-page__terminal-chrome">
        <div class="error-page__terminal-dots">
          <span class="error-page__terminal-dot error-page__terminal-dot--red"></span>
          <span class="error-page__terminal-dot error-page__terminal-dot--yellow"></span>
          <span class="error-page__terminal-dot error-page__terminal-dot--green"></span>
        </div>
        <span class="error-page__terminal-title">bash — 404</span>
      </div>
      <div class="error-page__terminal-body">
        <div class="error-page__terminal-line">
          <span class="prompt">$</span> <span class="cmd">cd</span> <span class="path" id="current-path">/unknown</span>
        </div>
        <div class="error-page__terminal-line">
          <span class="error">[ERROR]</span> route not found
        </div>
        <div class="error-page__terminal-line">
          <span class="prompt">$</span> <span class="cmd">ls -la</span>
        </div>
        <div class="error-page__terminal-line">
          total 0
        </div>
        <div class="error-page__terminal-line">
          <span class="prompt">$</span> <span class="blink">█</span>
        </div>
      </div>
    </div>
    
    <h1 class="error-page__message">Nothing here but tumbleweeds</h1>
    
    <p class="error-page__desc">
      The page you're looking for has either moved, been deleted, or never existed in the first place.
    </p>
    
    <a href="/" class="error-page__link">← Back to Home</a>
    
    <pre class="error-page__ascii" aria-hidden="true">
╔═══════════════════════════════════╗
║  have you tried turning it        ║
║  off and on again?                ║
╚═══════════════════════════════════╝</pre>
  </main>

  <script>
    // Update timestamp
    const timestampEl = document.getElementById('nav-timestamp');
    if (timestampEl) {
      const updateTime = () => {
        const now = new Date();
        const formatted = now.toISOString().slice(0, 19).replace('T', ' ');
        timestampEl.textContent = formatted + ' UTC';
      };
      updateTime();
      setInterval(updateTime, 1000);
    }
    
    // Show attempted path
    const pathEl = document.getElementById('current-path');
    if (pathEl && window.location.pathname !== '/404.html') {
      pathEl.textContent = window.location.pathname;
    }
    
    // Glitch scramble effect on 404 - auto-plays on loop
    const errorCode = document.getElementById('error-code');
    const chars = '!@#$%^&*()_+-=[]{}|;:,.<>?/\\~`0123456789ABCDEF';
    let isScrambling = false;
    
    function runGlitch() {
      if (isScrambling) return;
      isScrambling = true;
      
      const original = '404';
      let iterations = 0;
      const maxIterations = 60; // 3 seconds at 50ms intervals
      
      // Add glitch class for CSS animation
      errorCode.classList.add('glitching');
      
      const scramble = setInterval(() => {
        errorCode.textContent = original
          .split('')
          .map((char, index) => {
            // Randomly show original or scrambled
            if (Math.random() > 0.3) return char;
            return chars[Math.floor(Math.random() * chars.length)];
          })
          .join('');
        
        iterations++;
        
        if (iterations > maxIterations) {
          clearInterval(scramble);
          errorCode.textContent = original;
          errorCode.classList.remove('glitching');
          isScrambling = false;
        }
      }, 50);
    }
    
    if (errorCode) {
      // Initial delay then start loop
      setTimeout(() => {
        runGlitch();
        // Loop: 3s glitch + 5s pause = 8s cycle
        setInterval(runGlitch, 8000);
      }, 1000);
      
      // Also trigger on hover for extra interaction
      errorCode.addEventListener('mouseenter', runGlitch);
    }
    
    // Terminal window parallax/tilt effect
    const terminal = document.getElementById('terminal-window');
    if (terminal) {
      const maxRotation = 15;
      const perspective = 800;
      let currentRotation = { x: 0, y: 0 };
      let targetRotation = { x: 0, y: 0 };
      let isHovering = false;
      let animationFrame = null;
      
      terminal.style.perspective = perspective + 'px';
      
      terminal.addEventListener('mouseenter', () => {
        isHovering = true;
        animate();
      });
      
      terminal.addEventListener('mouseleave', () => {
        isHovering = false;
        targetRotation = { x: 0, y: 0 };
      });
      
      terminal.addEventListener('mousemove', (e) => {
        if (!isHovering) return;
        const rect = terminal.getBoundingClientRect();
        const centerX = rect.left + rect.width / 2;
        const centerY = rect.top + rect.height / 2;
        const offsetX = (e.clientX - centerX) / (rect.width / 2);
        const offsetY = (e.clientY - centerY) / (rect.height / 2);
        targetRotation = {
          x: offsetY * maxRotation,
          y: -offsetX * maxRotation
        };
      });
      
      function animate() {
        const ease = 0.12;
        currentRotation.x += (targetRotation.x - currentRotation.x) * ease;
        currentRotation.y += (targetRotation.y - currentRotation.y) * ease;
        
        const scale = isHovering ? 1.02 : 1;
        terminal.style.transform = `
          rotateX(${currentRotation.x}deg)
          rotateY(${currentRotation.y}deg)
          scale(${scale})
        `;
        
        // Parallax on inner body
        const body = terminal.querySelector('.error-page__terminal-body');
        if (body) {
          const depth = 30;
          const moveX = (currentRotation.y / maxRotation) * depth * -1;
          const moveY = (currentRotation.x / maxRotation) * depth;
          body.style.transform = `translate3d(${moveX}px, ${moveY}px, 20px)`;
        }
        
        const isMoving = 
          Math.abs(targetRotation.x - currentRotation.x) > 0.01 ||
          Math.abs(targetRotation.y - currentRotation.y) > 0.01;
        
        if (isHovering || isMoving) {
          animationFrame = requestAnimationFrame(animate);
        } else {
          terminal.style.transform = '';
          const body = terminal.querySelector('.error-page__terminal-body');
          if (body) body.style.transform = '';
        }
      }
    }
  </script>
</body>
</html>
